<!DOCTYPE html>
<html lang="en-us">
<head>
    <meta charset="UTF-8">
    <title>Customize the Sample App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="/UWPQuickStart/stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="/UWPQuickStart/stylesheets/bootstrap.css" media="screen">
    <link rel="stylesheet" type="text/css" href="/UWPQuickStart/stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="/UWPQuickStart/stylesheets/github-light.css" media="screen">
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
</head>

<body>
    <header role="banner">
        <nav class="navbar navbar-default navbar-fixed-top">
			<a class="navbar-brand" href="/UWPQuickStart/index.html"><img class="navbar-logo" src="/UWPQuickStart/images/VS_rgb_Wht.png"></a>
            <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="container-fluid">
                <div class="collapse navbar-collapse navbar_center" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        <li class="home"><a href="/UWPQuickStart/index.html">Home</a></li>
                        <li class="learn"><a class="active" href="/UWPQuickStart/docs/customize.html">Learn</a></li>
                        <li class="resources"><a href="/UWPQuickStart/docs/resources.html">Resources</a></li>
                    </ul>
                </div><!-- /.navbar-collapse -->
            </div><!-- /.container-fluid -->
        </nav>
    </header>
    <div class="top_navbar_spacer"></div>

    <div id="content" class="container main_content">
        <div class="col-md-4">
            <div class="row" style="position: fixed;">
                <div class="col-md-10" style="margin-left: 0px">
                    <h2 class="site-toc-title">Table of Contents</h2>
                    <ul class="site-toc">
                        <li>
                            <a class="this-page" href="/UWPQuickStart/docs/customize.html">
                                Customize the App
                            </a>
                        </li>
                        <li>
                            <a class="this-page" href="/UWPQuickStart/docs/challenges/online-image-sync.html">
                                Share Your Photos
                            </a>
                        </li>
                        <li>
                            <a class="this-page" href="/UWPQuickStart/docs/challenges/toast-notification.html">
                                Add Toast Notifications
                            </a>
                        </li>
                        <li>
                            <a class="this-page" href="/UWPQuickStart/docs/challenges/cortana-integration.html">
                                Add Cortana Support
                            </a>
                            <div id="page-toc" class="page-toc">
                                <ul>
                                    <li>
                                        <a href="/UWPQuickStart/docs/challenges/cortana-integration.html#Setting-up-cortana-anchor">Setting Up Cortana</a>
                                    </li>
                                    <li class="">
                                        <a href="/UWPQuickStart/docs/challenges/cortana-integration.html#Add-voice-commands-anchor">Add Voice Commands</a>
                                    </li>
                                    <li>
                                        <a href="/UWPQuickStart/docs/challenges/cortana-integration.html#Add-pictures-anchor">Hooking up Navigation on Launch</a>
                                    </li>
                                </ul>
                            </div>
                        </li>
                    </ul>
                </div>
                <div class="site-toc-container">
                </div>
            </div>
        </div>
        <span class="doc-fragment-anchor" id=link-0"></span>
        <div class="col-md-8">
            <div class="row">
                <h1>Add Cortana Support</h1>
                <p>
                    INSERT DESCRIPTION
                </p>
            </div>


            <span class="doc-fragment-anchor" id=link-1"></span>
            <hr id="Setting-up-cortana-anchor">
            <div class="row" id="Setting-up-cortana">
                <h2>
                    Set Up Cortana
                </h2>
                <h1></h1>
            </div>
            
            <div class="row">
                <div class="number_circle" style="margin-top: 5px">1</div>
                <div class="col-md-12">
                    <p>Well, first off, we need to create a set of rules for Cortana. Basically, this is explaining what she should listen for and what various phrases mean.</p>
                    <p>We’ll start by adding a simple XML file. This is a simple file that, once your app is deployed, will explain to Cortana what she should listen for. I’m naming it “CortanaCommands.xml”.</p>
                    <p>Here’s the start to the file, you can just copy and paste this into your XML file:</p>
                </div>

                <div>
                    <div class="row" style="height: 10px"/>
                </div>
                
                <div class="col-md-12 getting-started-text">
                    <pre class="prettyprint"><code class="language-xml">&lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&gt;
    &lt;VoiceCommands xmlns=&quot;http://schemas.microsoft.com/voicecommands/1.1&quot;&gt;
    &lt;CommandSet xml:lang=&quot;en-us&quot; Name=&quot;UWPQuickStart_en-us&quot;&gt;
        &lt;CommandPrefix&gt; Event, &lt;/CommandPrefix&gt;
        &lt;Example&gt; Event Register &lt;/Example&gt;
        
        &lt;Command Name=&quot;GetStarted&quot;&gt;
            &lt;Example&gt; Register  &lt;/Example&gt;
            &lt;ListenFor&gt; Register &lt;/ListenFor&gt;
            &lt;Feedback&gt;  Let&rsquo;s check out the event &lt;/Feedback&gt;
            &lt;Navigate/&gt;
        &lt;/Command&gt;

    &lt;/CommandSet&gt;
    &lt;!-- Other CommandSets for other languages --&gt;
    &lt;/VoiceCommands&gt;</code></pre>
                </div>
            </div>
            
            <div>
                <div class="row" style="height: 50px"/>
            </div>
                
            <div class="row">
                <div class="number_circle" style="margin-top: 5px">2</div>
                <div class="col-md-12">
                    <p>You can see that I’ve given a prefix of “Event”. What that means is that Cortana will now listen for the keyword Event in any commands she gets. If she hears that keyword, she’ll take the rest of the phrase and see if it matches any of the “Listen For” phrases. If it does, she’ll start our app. Not only that, but she’ll pass the command to the app. We’ll play with that later. The Feedback tag is what Cortana will say to the user when she recognizes the command.</p>
                    <p>Now I need to register the commands with Cortana. That’s easy enough to do in my OnLaunched event. This does mean that you’ll have to launch MEvent at least once before it’ll work, but that’s OK for now.</p>
                    <p>Here are the commands you need to add to the top of the OnLaunched event in App.xaml.cs:</p>
                </div>

                <div>
                    <div class="row" style="height: 10px"/>
                </div>
                    
                <div class="col-md-12 getting-started-text">
                <pre class="prettyprint"><code class="language-cs">var storageFile = await Windows.Storage.StorageFile.GetFileFromApplicationUriAsync(new Uri(&quot;ms-appx:///CortanaCommands.xml&quot;));
    await VoiceCommandDefinitionManager.InstallCommandDefinitionsFromStorageFileAsync(storageFile);</code></pre>
                </div>
            
                <div>
                    <div class="row" style="height: 10px"/>
                </div>
                
                <div class="col-md-12">
                    <p><strong>Tip: </strong>You’ll need to make the event handler async. You’ll also need to add a using command for the VoiceCommandDefinitionManager (It’s in Windows.ApplicationModel.VoiceCommands)</p>
                </div>
            </div>
            
            <div>
                <div class="row" style="height: 50px"/>
            </div>
               
            <div class="row">
                <div class="number_circle" style="margin-top: 5px">3</div>
                <div class="col-md-12">
                    <p>So with this, let’s test it out. Launch the app first to make sure we’ve deployed the Cortana commands, then close it.</p>
                    <p>Next, start up Cortana either by clicking the microphone next to her, or if it’s enabled, say “Hey Cortana”.</p>
                    <p>Now say “Event Register”</p>
                    <p>If everything is set up correctly, Cortana should launch the event. </p>
                </div>
            </div>
            
            <span class="doc-fragment-anchor" id="link-2"></span>
            <hr id="Add-voice-commands-anchor">
            <div class="row" id="Add-voice-command">
                <h2>
                    Add Voice Commands
                </h2>
                <h1></h1>
            </div>
            
            <div class="row">
                <div class="number_circle" style="margin-top: 5px">1</div>
                <div class="col-md-7 getting-started-text">
                    <p>Now that we have our Imgur API Client Key, we can download the source code that will contain the Imgur interaction methods. You can find that code in our repo in the <strong>PhotoStreamUtil.cs</strong> class <a href="https://github.com/Microsoft/UWPQuickStart/blob/imgur-integration/src/UWPQuickStart/Utils/PhotoStreamUtil.cs">here</a>. Go ahead and download this file and add it to your utils folder in your project. You can right click on <strong>Utils</strong>, click <strong>Add</strong> and then <strong>Existing item...</strong> Then select the file you just downloaded.</p>
                </div>
                
                <div class="col-md-5">
                    <img src="/UWPQuickStart/images/online-image-sync/b-step-1.png">
                </div>
            </div>
        </div>
    </div>
 </div>

    <section class="main-content">
      <footer class="site-footer">
        <span class="site-footer-owner">This <a href="http://microsoft.github.io/UWPQuickStart/">UWP Quick Start guide</a> is maintained by <a href="https://github.com/Microsoft">Microsoft</a>.</span>
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>
    </section>
</body>

</html>
