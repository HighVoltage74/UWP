<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="UTF-8">
    <title>Customize the Sample App</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="/UWPQuickStart/stylesheets/normalize.css" media="screen">
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:400,700' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" type="text/css" href="/UWPQuickStart/stylesheets/bootstrap.css" media="screen">
    <link rel="stylesheet" type="text/css" href="/UWPQuickStart/stylesheets/stylesheet.css" media="screen">
    <link rel="stylesheet" type="text/css" href="/UWPQuickStart/stylesheets/github-light.css" media="screen">
    <script src="https://google-code-prettify.googlecode.com/svn/loader/run_prettify.js"></script>
  </head>

  <body>
    <header role="banner">
		<nav class="navbar navbar-default navbar-fixed-top">
			<a class="navbar-brand" href="/UWPQuickStart/index.html"><img class="navbar-logo" src="/UWPQuickStart/images/VS_rgb_Wht.png"></a>
                <!-- Collect the nav links, forms, and other content for toggling -->
            <div class="container-fluid">
                <div class="collapse navbar-collapse navbar_center" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav">
                        <li class="home"><a href="/UWPQuickStart/index.html">Home</a></li>
                        <li class="learn"><a  href="/UWPQuickStart/docs/customize.html">Learn</a></li>
                        <li class="resources"><a href="/UWPQuickStart/docs/resources.html">Resources</a></li>
                    </ul>
                </div><!-- /.navbar-collapse -->
            </div><!-- /.container-fluid -->
	   </nav>
    </header>
    <div class="top_navbar_spacer"></div>

     <div id="content" class="container main_content">
         <div class="col-md-4">
            <div class="row" style="position: fixed;">

                <div class="col-md-10" style="margin-left: 0px">
                    <h2 class="site-toc-title">Table of Contents</h2>
                        <ul class="site-toc">
                            <li>
                            <a class="this-page" href="/UWPQuickStart/docs/customize.html">
                                Customize the App
                            </a>
                            </li>
                            <li>
                                <a class="this-page" href="/UWPQuickStart/docs/challenges/online-image-sync.html">
                                    Share Your Photos
                                </a>
                            </li>
                            <li>
                                <a class="this-page" href="/UWPQuickStart/docs/challenges/toast-notification.html">Toast Notifications
                                </a>
                                <div id="page-toc" class="page-toc">
                                    <ul>
                                        <li>
                                            <a href="/UWPQuickStart/docs/challenges/toast-notification.html#Add-toast-notification-anchor">Add a Toast Notification to your app
                                            </a>
                                        </li>
										<li>
                                            <a href="/UWPQuickStart/docs/challenges/toast-notification.html#Download-Solution-anchor">Download Solution
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </li>
                            <li>
                                <a class="this-page" href="/UWPQuickStart/docs/challenges/cortana-integration.html">
                                    Add Cortana Support
                                </a>
                            </li>
                        </ul>
                    </div>
                <div class="site-toc-container">
                </div>
            </div>
        </div>

        <span class="doc-fragment-anchor" id="link-0"></span>
        <div class="col-md-8">
            <div class="row">
                <h1>
                    Toast Notifications
                </h1>
                <p>
                    How to add a pop up toast notifcation scheduled to an event
                </p>
            </div>

            <hr id="Add-toast-notification-anchor">
            <div class="row">
                <h2 id="Add-toast-notification">
                    Add a Toast Notification to your app
                </h2>
                <h1></h1>
            </div>


            <div class="row">
                <div class="number_circle" style="margin-top: 5px">1</div>
                <div class="col-md-12 getting-started-text">
                    <p>The first thing we have to do is open up <strong>RSVP.xaml.cs</strong> from the solution explorer.</p>
                    <p>Find the following event handler:</p>
                    <pre class="prettyprint"><code class="language-cs">private async void sendButtonHandler(object sender, RoutedEventArgs e)</code></pre>
                </div>
            </div>

            <div>
                <div class="row" style="height: 50px">
            </div>

            <div class="row">
                <div class="number_circle" style="margin-top: 5px">2</div>
                <div class="col-md-7 getting-started-text">
                    <p>We now want to add a toast notification that will pop up when the event is scheduled by the user.</p>
                    <p>This will remind the user of the event.</p>
                </div>
                <div class="col-md-5">
                    <pre class="prettyprint"><code class="language-cs">if (yesRadioButton.IsChecked == true)
{
...
}</code></pre>
                </div>
            </div>

            <div>
                <div class="row" style="height: 50px">
            </div>

            <div class="row">
                <div class="number_circle" style="margin-top: 5px">3</div>
                <div class="col-md-12 getting-started-text">
                    <p>Next we want to configure the notification text which is shown in the toast. This is specified as XML within a string:</p>
                </div>
                <div class="col-md-12 getting-started-text">
                    <pre class="prettyprint"><code class="language-xml">// setup notification text
string TOAST = $@&quot;
&lt;toast&gt;
    &lt;visual&gt;
        &lt;binding template=&quot;&quot;ToastGeneric&quot;&quot;&gt;
            &lt;text&gt;Event Alarm&lt;/text&gt;
            &lt;text&gt;Check your calendar for &quot; + App.EventModel.EventName + $@&quot;&lt;/text&gt;
        &lt;/binding&gt;
    &lt;/visual&gt;
    &lt;actions&gt;
        &lt;action content = &quot;&quot;Done&quot;&quot; arguments=&quot;&quot;cancel&quot;&quot;/&gt;
    &lt;/actions&gt;
    &lt;audio src =&quot;&quot;ms-winsoundevent:Notification.Reminder&quot;&quot;/&gt;
&lt;/toast&gt;&quot;;</code></pre>
                </div>
            </div>

            <div>
                <div class="row" style="height: 50px">
            </div>

            <div class="row">
                <div class="number_circle" style="margin-top: 5px">4</div>
                <div class="col-md-12 getting-started-text">
                    <p>Now we want to set when the toast should appear. For demo purposes you can set this to 10 seconds. To make it work for real uncomment out the EventStartTime line:</p>
                </div>
                <div class="col-md-12 getting-started-text">
                    <pre class="prettyprint"><code class="language-cs">// set when the notification should be shown or demo purposes in 10s
var when = DateTime.Now.AddSeconds(10);

//var when = App.EventModel.EventStartTime;
var offset = new DateTimeOffset(when);</code></pre>
                </div>
            </div>

            <div>
                <div class="row" style="height: 50px">
            </div>

            <div class="row">
                <div class="number_circle" style="margin-top: 5px">5</div>
                <div class="col-md-12 getting-started-text">
                    <p>Finally we use ScheduledToastNotification to create the toast itself</p>
                </div>
                <div class="col-md-12 getting-started-text">
                    <pre class="prettyprint"><code class="language-cs">Windows.Data.Xml.Dom.XmlDocument xml = new Windows.Data.Xml.Dom.XmlDocument();

xml.LoadXml(TOAST);

// create the notification
ScheduledToastNotification toast = new ScheduledToastNotification(xml, offset);
Random rnd = new Random();
toast.Id = rnd.Next(1, 100000000).ToString();

ToastNotificationManager.CreateToastNotifier().AddToSchedule(toast);</code></pre>
                </div>
            </div>
        </div>
	</div>
	<hr id="Download-Solution-anchor">
	<div class="row" id="Download-Solution">
                <h2>
                    Download Solution
                </h2>
                <h1></h1>
            </div>
			<div class="col-md-7 getting-started-text">
                    <p>Here is the link to download the solution for this feature.</p>
			</div>
			<div class="col-md-5">
				<a class="btn2" style="text-align: center; min-width:11.5em" href="https://github.com/Microsoft/UWPQuickStart/archive/toast-notifications.zip">Download zip</a>
			</div>
			<hr>


    <section class="main-content">
      <footer class="site-footer">
        <span class="site-footer-owner">This <a href="http://microsoft.github.io/UWPQuickStart/">UWP Quick Start guide</a> is maintained by <a href="https://github.com/Microsoft">Microsoft</a>.</span>
        <span class="site-footer-credits">This page was generated by <a href="https://pages.github.com">GitHub Pages</a> using the <a href="https://github.com/jasonlong/cayman-theme">Cayman theme</a> by <a href="https://twitter.com/jasonlong">Jason Long</a>.</span>
      </footer>
    </section>
  </body>

</html>
